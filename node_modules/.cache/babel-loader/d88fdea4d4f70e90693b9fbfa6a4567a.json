{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Everything Else/food-commune/src/Components/AccountBox/LoginForm.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, lazy, Suspense, useContext } from 'react';\nimport { BoldLink, BoxContainer, FormContainer, Input, MutedLink, SubmitButton } from \"./Common.jsx\";\nimport { Marginer } from \"../Marginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function LoginForm(props) {\n  _s();\n\n  const {\n    switchToSignup\n  } = useContext(AccountContext);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [keeplogin, setKeeplogin] = useState(false);\n  const history = useHistory();\n  const api = axios.create({\n    baseURL: 'http://localhost:3000/api'\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (!email) {\n      alert('please add email');\n    } else if (!password) {\n      alert('please add password');\n    } else {\n      api.post('/login', {\n        userName: email,\n        password: password\n      }).then(res => {\n        console.log(res.data);\n\n        if (res.data.token != null) {\n          localStorage.setItem('token', res.data.token);\n          history.push('/');\n        } else {\n          alert(\"invalid id/password\");\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoxContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FormContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \" Keep me login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          padding: '1px',\n          margin: '1px'\n        },\n        type: \"checkbox\",\n        name: \"keeplogin\",\n        value: keeplogin,\n        onChange: e => setKeeplogin(!keeplogin)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: 10\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: \"Forget your password?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"1.6em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n      onClick: onSubmit,\n      type: \"submit\",\n      children: \"Signin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Marginer, {\n      direction: \"vertical\",\n      margin: \"1em\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MutedLink, {\n      href: \"#\",\n      children: [\"Don't have an accoun?\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"s59mAoJyem42Z+aHHZihXas3fF0=\", false, function () {\n  return [useHistory];\n});\n\n_c = LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/mac/Everything Else/food-commune/src/Components/AccountBox/LoginForm.jsx"],"names":["React","useState","useEffect","lazy","Suspense","useContext","BoldLink","BoxContainer","FormContainer","Input","MutedLink","SubmitButton","Marginer","AccountContext","axios","useHistory","LoginForm","props","switchToSignup","email","setEmail","password","setPassword","keeplogin","setKeeplogin","history","api","create","baseURL","onSubmit","e","preventDefault","alert","post","userName","then","res","console","log","data","token","localStorage","setItem","push","catch","err","target","value","padding","margin"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAoCC,IAApC,EAAyCC,QAAzC,EAAkDC,UAAlD,QAAmE,OAAnE;AAEA,SACEC,QADF,EAEEC,YAFF,EAGEC,aAHF,EAIEC,KAJF,EAKEC,SALF,EAMEC,YANF,QAOO,cAPP;AAQA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA0B,kBAA1B;;AACA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AAAA;;AAC/B,QAAM;AAAEC,IAAAA;AAAF,MAAqBb,UAAU,CAACQ,cAAD,CAArC;AACA,QAAM,CAACM,KAAD,EAAOC,QAAP,IAAiBnB,QAAQ,CAAC,EAAD,CAA/B;AACA,QAAM,CAACoB,QAAD,EAAUC,WAAV,IAAuBrB,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACsB,SAAD,EAAWC,YAAX,IAAyBvB,QAAQ,CAAC,KAAD,CAAvC;AACA,QAAMwB,OAAO,GAAEV,UAAU,EAAzB;AACA,QAAMW,GAAG,GAACZ,KAAK,CAACa,MAAN,CAAa;AACrBC,IAAAA,OAAO,EAAC;AADa,GAAb,CAAV;;AAGA,QAAMC,QAAQ,GAAEC,CAAD,IAAK;AACjBA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAG,CAACZ,KAAJ,EACA;AACEa,MAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,KAHD,MAIK,IAAI,CAACX,QAAL,EACL;AACCW,MAAAA,KAAK,CAAC,qBAAD,CAAL;AAEA,KAJI,MAOL;AACCN,MAAAA,GAAG,CAACO,IAAJ,CAAS,QAAT,EAAkB;AAACC,QAAAA,QAAQ,EAACf,KAAV;AAAgBE,QAAAA,QAAQ,EAACA;AAAzB,OAAlB,EAAsDc,IAAtD,CAA2DC,GAAG,IAAE;AAC9DC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;;AACC,YAAGH,GAAG,CAACG,IAAJ,CAASC,KAAT,IAAgB,IAAnB,EACA;AACCC,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BN,GAAG,CAACG,IAAJ,CAASC,KAAtC;AAEAf,UAAAA,OAAO,CAACkB,IAAR,CAAa,GAAb;AAEA,SAND,MAQA;AACEX,UAAAA,KAAK,CAAC,qBAAD,CAAL;AAED;AAEH,OAfD,EAeGY,KAfH,CAeSC,GAAG,IAAER,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAfd;AAiBA;AAEH,GAlCD;;AAqCA,sBAEE,QAAC,YAAD;AAAA,4BACE,QAAC,aAAD;AAAA,8BACE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,KAAK,EAAE1B,KAA3B;AAAkC,QAAA,QAAQ,EAAGW,CAAD,IAAKV,QAAQ,CAACU,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAzD;AAA2E,QAAA,WAAW,EAAC;AAAvF;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,KAAD;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,KAAK,EAAE1B,QAA9B;AAAwC,QAAA,QAAQ,EAAGS,CAAD,IAAKR,WAAW,CAACQ,CAAC,CAACgB,MAAF,CAASC,KAAV,CAAlE;AAAoF,QAAA,WAAW,EAAC;AAAhG;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAO,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAC,KAAT;AAAeC,UAAAA,MAAM,EAAC;AAAtB,SAAd;AAA4C,QAAA,IAAI,EAAC,UAAjD;AAA4D,QAAA,IAAI,EAAC,WAAjE;AAA6E,QAAA,KAAK,EAAE1B,SAApF;AAA+F,QAAA,QAAQ,EAAGO,CAAD,IAAKN,YAAY,CAAC,CAACD,SAAF;AAA1H;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOE,QAAC,QAAD;AAAU,MAAA,SAAS,EAAC,UAApB;AAA+B,MAAA,MAAM,EAAE;AAAvC;AAAA;AAAA;AAAA;AAAA,YAPF,eAQE,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,eASE,QAAC,QAAD;AAAU,MAAA,SAAS,EAAC,UAApB;AAA+B,MAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,YATF,eAUE,QAAC,YAAD;AAAc,MAAA,OAAO,EAAEM,QAAvB;AAAiC,MAAA,IAAI,EAAC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVF,eAWE,QAAC,QAAD;AAAU,MAAA,SAAS,EAAC,UAApB;AAA+B,MAAA,MAAM,EAAC;AAAtC;AAAA;AAAA;AAAA;AAAA,YAXF,eAYE,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,GAAhB;AAAA,0CACwB,GADxB;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAoBD;;GAlEeb,S;UAKCD,U;;;KALDC,S","sourcesContent":["import React, { useState ,useEffect,lazy,Suspense,useContext} from 'react'\n\nimport {\n  BoldLink,\n  BoxContainer,\n  FormContainer,\n  Input,\n  MutedLink,\n  SubmitButton,\n} from \"./Common.jsx\";\nimport { Marginer } from \"../Marginer\";\nimport { AccountContext } from \"./AccountContext\";\nimport axios from 'axios';\nimport { useHistory} from 'react-router-dom';\nexport function LoginForm(props) {\n  const { switchToSignup } = useContext(AccountContext);\n  const [email,setEmail]=useState('');\n  const [password,setPassword]=useState('');\n  const [keeplogin,setKeeplogin]=useState(false);\n  const history= useHistory();\n  const api=axios.create({\n    baseURL:'http://localhost:3000/api'\n  })\n  const onSubmit=(e)=>{\n     e.preventDefault();\n     \n     if(!email)\n     {\n       alert('please add email');\n     }\n     else if (!password)\n     {\n      alert('please add password');\n\n     }\n    \n     else\n     {\n      api.post('/login',{userName:email,password:password}).then(res=>{\n        console.log(res.data);\n         if(res.data.token!=null)\n         {\n          localStorage.setItem('token',res.data.token);\n\n          history.push('/');\n          \n         }\n         else\n         {\n           alert(\"invalid id/password\");\n\n         }\n       \n      }).catch(err=>console.log(err));\n  \n     }\n  \n  }\n  \n\n  return (\n    \n    <BoxContainer>\n      <FormContainer>\n        <Input type=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)} placeholder=\"Email\" />\n        <Input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} placeholder=\"Password\" />\n        <span > Keep me login</span>\n        <input style={{padding:'1px',margin:'1px'}} type=\"checkbox\" name=\"keeplogin\" value={keeplogin} onChange={(e)=>setKeeplogin(!keeplogin)} />\n      </FormContainer>\n      <Marginer direction=\"vertical\" margin={10} />\n      <MutedLink href=\"#\">Forget your password?</MutedLink>\n      <Marginer direction=\"vertical\" margin=\"1.6em\" />\n      <SubmitButton onClick={onSubmit} type=\"submit\">Signin</SubmitButton>\n      <Marginer direction=\"vertical\" margin=\"1em\" />\n      <MutedLink href=\"#\">\n        Don't have an accoun?{\" \"}\n        \n      </MutedLink>\n    </BoxContainer>\n  );\n}"]},"metadata":{},"sourceType":"module"}